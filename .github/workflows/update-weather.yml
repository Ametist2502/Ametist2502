name: WeatherAPI CI/CD

on:
  schedule:
    - cron: '0 * * * *'  # Run every hour

jobs:
  fetch-weather:
    runs-on: ubuntu-latest

    steps:
      - name: Checkout code
        uses: actions/checkout@v2

      - name: Set up Go
        uses: actions/setup-go@v2
        with:
          go-version: 1.8 # Replace with your desired Go version

      - name: Fetch Weather Data
        run: |
          # Replace "YOUR_API_KEY" and "YOUR_LOCATION" with your API key and location
          API_KEY=${{ secrets.WEATHER_API_KEY }}
          LOCATION="Hanoi"
          RESPONSE=$(curl -s "https://api.weatherapi.com/v1/current.json?q=$LOCATION&key=$API_KEY")
          echo "Weather Data: $RESPONSE"
